(function(){"use strict";var e={552:function(e,t,a){var n=a(963),r=a(252);function i(e,t,a,i,o,l){const s=(0,r.up)("Navigation"),u=(0,r.up)("dayEntry"),d=(0,r.up)("MonthPanel"),v=(0,r.up)("infoPoint");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(s,{onResponse:t[0]||(t[0]=e=>this.activePanel=e)}),(0,r.wy)((0,r.Wm)(u,null,null,512),[[n.F8,0==o.activePanel]]),(0,r.wy)((0,r.Wm)(d,null,null,512),[[n.F8,2==o.activePanel]]),(0,r.wy)((0,r.Wm)(v,null,null,512),[[n.F8,3==o.activePanel]])],64)}var o=a(577),l=a(262),s=a(703),u=a(890),d=a(349),v=a(811),c=a(41),p=a(840),m=a(559),g=a(640);const f={id:"row"},k={id:"date"};var w={props:{id:Number,date:String,dayData:Object},emits:["saveDayData"],setup(e,{emit:t}){const a=e;let{date:i}=a,s=JSON.parse(JSON.stringify(a.dayData));s.date=i;var u=(0,l.iH)(""),d=(0,l.iH)(""),v=(0,l.iH)(""),c=(0,l.iH)(""),p=(0,l.iH)("");let m=0;function g(){0!=s.savedStartTime&&(u.value=""+s.savedStartTime),0!=s.savedEndTime&&(d.value=""+s.savedEndTime),0!=s.savedBreakTime&&(v.value=s.savedBreakTime),0!=s.savedTotalTime&&(c.value=s.savedTotalTime),""!=s.savedDescription&&(p=s.savedDescription),""==c.value&&(c.value="-- ")}function w(e,t,a){e=e.split(":"),t=t.split(":"),""!=a&&(a=a.split(":"));var n=new Date(0,0,0,e[0],e[1],0),r=new Date(0,0,0,t[0],t[1],0),i=r.getTime()-n.getTime(),o=Math.floor(i/1e3/60/60);i-=1e3*o*60*60;var l=Math.floor(i/1e3/60);return parseInt(a[0])>0&&(o-=parseInt(a[0])),parseInt(a[1])>0&&(l<parseInt(a[1])&&o--,l>parseInt(a[1])?l-=parseInt(a[1]):(m=Math.abs(l-parseInt(a[1])),l=0==m?0:60-m)),o<0&&(o+=24),o+":"+(l<=9?"0":"")+l}function h(){if(u==d)return alert("Same start and end time entered"),void S(2);""!=d&&(c.value=w(u.value,d.value,v.value),b())}function b(){if(1==s&&""==this.$refs.descriptioninput.value)return;s={id:a.id,date:i,savedStartTime:u.value,savedEndTime:d.value,savedBreakTime:v.value,savedTotalTime:c.value,savedDescription:p.value};let e=JSON.stringify(s);console.log("Entries were saved as: \n"+e),t("saveDayData",s)}function S(e){1==e&&(this.$refs.starttimeinput.value=0,this.$refs.endtimeinput.value=0),2==e&&(this.$refs.endtimeinput.value=0,this.$refs.breaktime.value=0,c.value="--")}return g(),(e,t)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("span",f,[(0,r._)("p",k,(0,o.zw)((0,l.SU)(i)),1),(0,r.wy)((0,r._)("input",{type:"time",ref:"starttimeinput","onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(u)?u.value=e:u=e)},null,512),[[n.nr,(0,l.SU)(u)]]),(0,r.wy)((0,r._)("input",{type:"time",ref:"endtimeinput","onUpdate:modelValue":t[1]||(t[1]=e=>(0,l.dq)(d)?d.value=e:d=e)},null,512),[[n.nr,(0,l.SU)(d)]]),(0,r.wy)((0,r._)("input",{ref:"breaktime",type:"text",minlength:"4",maxlength:"5",placeholder:"0:30","onUpdate:modelValue":t[2]||(t[2]=e=>(0,l.dq)(v)?v.value=e:v=e),onChange:t[3]||(t[3]=e=>h()),onBlur:t[4]||(t[4]=e=>h())},null,544),[[n.nr,(0,l.SU)(v)]]),(0,r._)("p",null,(0,o.zw)((0,l.SU)(c))+"h",1),(0,r.wy)((0,r._)("input",{ref:"descriptioninput",type:"text",placeholder:"Development of..","onUpdate:modelValue":t[5]||(t[5]=e=>(0,l.dq)(p)?p.value=e:p=e),onChange:t[6]||(t[6]=e=>b())},null,544),[[n.nr,(0,l.SU)(p)]])])]))}};const h=w;var b=h;const S={id:"sumRow"},D=(0,r._)("p",null,null,-1),y={class:"p-sum"},_={class:"p-sum"},T={class:"p-sum"},U={class:"p-sum"};var M={props:{total:String,breakAvg:String,shouldHours:Number},setup(e){const t=e,a=(0,r.Fl)((()=>{let e=t.shouldHours-parseInt(t.total.split(":")[0]),a=parseInt(t.total.split(":")[1]);return 0!=a&&(e--,a=Math.abs(a-60)),e+":"+a}));return(t,n)=>((0,r.wg)(),(0,r.iD)("div",S,[D,(0,r._)("p",y,"Avg. break: "+(0,o.zw)(e.breakAvg)+" min",1),(0,r._)("span",null,[(0,r._)("p",_,"Should: "+(0,o.zw)(e.shouldHours)+" h",1),(0,r._)("p",T,"Total: "+(0,o.zw)(e.total),1),(0,r._)("p",U,"Remaining: "+(0,o.zw)((0,l.SU)(a)),1)])]))}};const I=M;var H=I;const O={getMonth(e){return(0,p.Z)(e,"MMMM")},refreshMonth:void 0},C=e=>((0,r.dD)("data-v-fb40238e"),e=e(),(0,r.Cn)(),e),N={class:"landing-container"},B={class:"content"},z={class:"title"},F=C((()=>(0,r._)("i",{class:"arrow left"},null,-1))),Z=[F],x={id:"monthTitle"},P=C((()=>(0,r._)("i",{class:"arrow right"},null,-1))),E=[P],J={class:"weekdays"},$=C((()=>(0,r._)("div",{class:"tableHeader"},[(0,r._)("p",null,"Date"),(0,r._)("p",null,"Starttime"),(0,r._)("p",null,"Endtime"),(0,r._)("p",null,"Breaktime"),(0,r._)("p",null,"Worked"),(0,r._)("p",null,"Description")],-1))),j={key:0};var Y={setup(e){const t=new Date;let a=(0,l.iH)();a.value=new Date;let n=(0,l.iH)();n=(0,s.Z)(t);let i=(0,l.qj)([]),f=0,k=(0,l.iH)(0),w=(0,l.qj)([0,0]),h=(0,l.iH)(0);function S(e){if(null===localStorage.getItem(O.getMonth(e)+e.getFullYear()))return console.log("No data saved yet"),y(e),void U();i.splice(0,i.length);let t=JSON.parse(localStorage.getItem(O.getMonth(e)+e.getFullYear()));D(t.length);for(let a=0;a<t.length;a++)t[a].id=++f,i.push(t[a])}function D(e){h.value=8*e}function y(e){i.splice(0,i.length),n.value=(0,s.Z)(e);let t=(0,u.Z)(e);for(let a=0;a<t;a++){let e=(0,d.Z)(n.value,a);(0,v.Z)(e)||(0,c.Z)(e);let t=e.toString().substring(0,3)+" "+(0,p.Z)(new Date(e),"dd/MM/yy");i.push({id:f,date:t,savedStartTime:"",savedEndTime:"",savedBreakTime:"",savedTotalTime:"",savedDescription:"",unformatedDate:e}),f++}D(i.length)}function _(e){a.value=e<0?(0,m.Z)(a.value,1):(0,g.Z)(a.value,1),S(a.value)}function T(e,t){console.log("Index: "+t+" emit reached parent",e),i[t]=e,U()}function U(){localStorage.setItem(O.getMonth(a.value)+a.value.getFullYear(),JSON.stringify(i))}function M(){let e=JSON.parse(localStorage.getItem(O.getMonth(a.value)+a.value.getFullYear())),t="";for(let a=0;a<e.length;a++)t+=`\n ${e[a].date} : ${e[a].savedStartTime} - ${e[a].savedEndTime} \t break duration: ${e[a].savedBreakTime} \t description ${e[a].savedDescription}`;var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t||"No data entered")),n.setAttribute("download",O.getMonth(a.value)+a.value.getFullYear()+".txt"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}S(t),O.refreshMonth=e=>S(e);const I=(0,r.Fl)((()=>{let e=0,t=0;for(let a=0;a<i.length;a++)i[a].savedTotalTime&&(t+=parseInt(i[a].savedTotalTime.split(":")[1]),t>60&&(e++,t-=60),e+=parseInt(i[a].savedTotalTime.split(":")[0]));return w[0]=e+":"+t,k.value,e+":"+t})),C=(0,r.Fl)((()=>{let e=0,t=0;for(let a=0;a<i.length;a++)i[a].savedBreakTime&&(e++,t+=parseInt(i[a].savedBreakTime.split(":")[1]),parseInt(i[a].savedBreakTime.split(":")[0])>0&&(t+=60*parseInt(i[a].savedBreakTime.split(":")[0])));return w[1]=(t/e).toFixed(1),k.value,(t/e).toFixed(1)}));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",N,[(0,r._)("div",B,[(0,r._)("div",z,[(0,r._)("button",{class:"changeMonthBtn",onClick:t[0]||(t[0]=e=>_(-1))},Z),(0,r._)("h1",x,(0,o.zw)((0,l.SU)(O).getMonth((0,l.SU)(a))),1),(0,r._)("button",{class:"changeMonthBtn",onClick:t[1]||(t[1]=e=>_(1))},E)]),(0,r._)("div",J,[$,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,l.SU)(i),((e,t)=>((0,r.wg)(),(0,r.iD)("div",{id:"entries",key:e.id},[0!=t?((0,r.wg)(),(0,r.iD)("hr",j)):(0,r.kq)("",!0),(0,r.Wm)(b,{id:t,date:e.date,dayData:e,onSaveDayData:e=>T(e,t)},null,8,["id","date","dayData","onSaveDayData"])])))),128)),(0,r.Wm)(H,{shouldHours:(0,l.SU)(h),breakAvg:(0,l.SU)(C),total:(0,l.SU)(I)},null,8,["shouldHours","breakAvg","total"]),(0,r._)("button",{id:"exportBtn",onClick:t[2]||(t[2]=e=>M())},"Export")])])]))}},A=a(744);const W=(0,A.Z)(Y,[["__scopeId","data-v-fb40238e"]]);var q=W;const R=e=>((0,r.dD)("data-v-0f1572ea"),e=e(),(0,r.Cn)(),e),V={id:"task-bar"},K=R((()=>(0,r._)("h3",null,"Worktime capture",-1))),G={id:"selection"};var L={emits:["response"],setup(e,{emit:t}){let a=(0,l.iH)(0);function n(e){"today"==e?(a.value=0,t("response",0)):"week"==e?(a.value=1,t("response",1)):"month"==e?(a.value=2,t("response",2)):"info"==e&&(a.value=3,t("response",3)),console.log(a)}return(e,t)=>((0,r.wg)(),(0,r.iD)("div",V,[K,(0,r._)("div",G,[(0,r._)("p",{onClick:t[0]||(t[0]=e=>n("today")),class:(0,o.C_)({selected:0==(0,l.SU)(a)})},"Today",2),(0,r._)("p",{onClick:t[1]||(t[1]=e=>n("month")),class:(0,o.C_)({selected:2==(0,l.SU)(a)})},"Month",2),(0,r._)("p",{onClick:t[2]||(t[2]=e=>n("info")),class:(0,o.C_)({selected:3==(0,l.SU)(a)})},"Info",2)])]))}};const Q=(0,A.Z)(L,[["__scopeId","data-v-0f1572ea"]]);var X=Q;const ee=e=>((0,r.dD)("data-v-1ce70127"),e=e(),(0,r.Cn)(),e),te={id:"day_button_container"},ae=ee((()=>(0,r._)("p",null,null,-1))),ne=ee((()=>(0,r._)("p",null,[(0,r.Uk)("Start "),(0,r._)("span",{class:"timeDivider"},"/"),(0,r.Uk)(" Stop")],-1))),re=ee((()=>(0,r._)("p",null,"Duration",-1))),ie=["disabled"],oe=ee((()=>(0,r._)("span",{class:"timeDivider"},"/",-1))),le=["disabled"],se=ee((()=>(0,r._)("span",{class:"timeDivider"},"/",-1)));var ue={setup(e){let t=(0,l.iH)(!1),a=(0,l.iH)(!1),n=(0,l.iH)(""),i=(0,l.iH)(0),s={date:new Date,worktime:{start:0,end:0,duration:0},break:{start:0,end:0,duration:0}},u=O.getMonth(new Date),d=s.date.getFullYear(),v=JSON.parse(localStorage.getItem(u+d)),c=0;setTimeout(f(),1e3);let p=JSON.parse(localStorage.getItem("today"));function m(){0!=s.worktime&&(s.worktime.start=new Date(s.worktime.start)),s.worktime.end&&(s.worktime.end=new Date(s.worktime.end)),s.break.start&&(s.break.start=new Date(s.break.start)),s.break.end&&(s.break.end=new Date(s.break.end))}function g(){t.value=!t.value,t.value?(i.value=new Date,console.log("Session started"),s.worktime.start=new Date,k(new Date,"start")):(console.log("ended"),s.worktime.end=new Date,s.worktime.duration=h(s.worktime.start,s.worktime.end),k(new Date,"end")),localStorage.setItem("today",JSON.stringify(s))}function f(){if(v)for(let e=0;e<v.length;e++)new Date(v[e].unformatedDate).getDate()==new Date(s.date).getDate()&&(c=e)}function k(e,t){console.log(v),"start"===t?v[c].savedStartTime=e.getHours()+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes()):"end"===t?v[c].savedEndTime=e.getHours()+":"+(e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes()):"breakDuration"==t&&(v[c].savedBreakTime=e),localStorage.setItem(u+d,JSON.stringify(v)),O.refreshMonth(new Date)}function w(){if(a.value){console.log("Pause stopped"),s.break.end=new Date;let e=h(s.break.start,s.break.end);0==s.break.duration?s.break.duration=e:s.break.duration+=e,n.value="Break duration was: "+h(s.break.start,s.break.end)}else console.log("Pause started"),s.break.start=new Date,n.value="Break started at: "+s.break.start;a.value=!a.value,localStorage.setItem("today",JSON.stringify(s)),k("breakDuration",s.break.duration)}function h(e,t){let a=t.getHours()-e.getHours(),n=t.getMinutes()-e.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),a+":"+n}function b(e){let t=new Date(e),a=t.getHours();a<10&&(a="0"+a);let n=t.getMinutes();return n<10&&(n="0"+n),a+":"+n}return null!==p&&new Date(p.date).toDateString()==(new Date).toDateString()&&(s=p,m(),0!=s.worktime.start&&(i.value=new Date(s.worktime.start)),0==s.worktime.end&&0!=s.worktime.start&&(t.value=!0),0!=s.break.start&&0==s.break.end&&(a.value=!0)),(e,n)=>((0,r.wg)(),(0,r.iD)("div",te,[ae,ne,re,(0,r._)("button",{onClick:n[0]||(n[0]=e=>g()),disabled:(0,l.SU)(a)},(0,o.zw)((0,l.SU)(t)?"Stop":"Start"),9,ie),(0,r._)("p",null,[(0,r.Uk)((0,o.zw)(0!=(0,l.SU)(s).worktime.start?b((0,l.SU)(s).worktime.start):"-  :  -  ")+" ",1),oe,(0,r.Uk)(" "+(0,o.zw)(0!=(0,l.SU)(s).worktime.end?b((0,l.SU)(s).worktime.end):"  -  :  -"),1)]),(0,r._)("p",null,(0,o.zw)(0!=(0,l.SU)(s).worktime.duration?(0,l.SU)(s).worktime.duration:""),1),(0,r._)("button",{onClick:n[1]||(n[1]=e=>w()),disabled:!(0,l.SU)(t)},(0,o.zw)((0,l.SU)(a)?"Stop break":"Start break"),9,le),(0,r._)("p",null,[(0,r.Uk)((0,o.zw)(0!=(0,l.SU)(s).break.start?b((0,l.SU)(s).break.start):"-  :  -  ")+" ",1),se,(0,r.Uk)(" "+(0,o.zw)(0!=(0,l.SU)(s).break.end?b((0,l.SU)(s).break.end):"  -  :  -"),1)]),(0,r._)("p",null,(0,o.zw)(0!=(0,l.SU)(s).break.duration?(0,l.SU)(s).break.duration:""),1)]))}};const de=(0,A.Z)(ue,[["__scopeId","data-v-1ce70127"]]);var ve=de;const ce={id:"information"};function pe(e,t){return(0,r.wg)(),(0,r.iD)("div",ce," Your times are saved locally in your browsers storage. No data is leaving your PC. The times you enter are saved automatically. So even if you lose internet connection or close the browser it is saved. ")}const me={},ge=(0,A.Z)(me,[["render",pe],["__scopeId","data-v-48f02d7a"]]);var fe=ge,ke={name:"App",data(){return{activePanel:0}},components:{MonthPanel:q,Navigation:X,dayEntry:ve,infoPoint:fe}};const we=(0,A.Z)(ke,[["render",i]]);var he=we;(0,n.ri)(he).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],i=e[d][2];for(var l=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(l=!1,i<o&&(o=i));if(l){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],l=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)var d=s(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self["webpackChunkworktime"]=self["webpackChunkworktime"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(552)}));n=a.O(n)})();
//# sourceMappingURL=app.1b51bc31.js.map